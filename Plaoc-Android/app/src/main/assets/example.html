<html>
  <head>
    <title>你好🎋</title>
  </head>

  <body>
    <h1>This is Example!!<code id="page_id"></code></h1>
    <script>
      page_id.innerHTML = new Date();
    </script>
    <ol id="hreflist">
      <li><a target="_blank" href="http://baidu.com">http://baidu.com</a></li>
      <li>
        <a target="_blank" href="https://gaubee.com">https://gaubee.com</a>
      </li>
      <li>
        <a target="_blank" href="file:///android_asset/example.html"
          >file:///android_asset/example.html</a
        >
      </li>
    </ol>
    <ol id="linklist">
      <li>http://baidu.com</li>
      <li>https://gaubee.com</li>
      <li>file:///android_asset/example.html</li>
    </ol>
    <input id="nav_input" value="file:///android_asset/example.html" />
    <button id="do_nav">GO!!!</button>
    <script>
      do_nav.onclick = () => {
        const route = nav_input.value.trim();
        if (
          route.startsWith("http:") ||
          route.startsWith("https:") ||
          route.startsWith("file:")
        ) {
          my_nav.navigateWeb(encodeURIComponent(route));
        } else {
          my_nav.navigate(route);
        }
      };
      linklist.onclick = (e) => {
        const liEle = e.target;
        if (liEle instanceof HTMLElement && liEle.tagName === "LI") {
          nav_input.value = liEle.textContent;
        }
      };
    </script>

    <ol id="titlelist">
      <li>💗ℹ️🧨🤣🎊😹😹🧧🙈🦸‍♀️🆙⚠️📤😚❕💙✅⏰😒🎉❌❤️</li>
      <li>~Title~</li>
    </ol>
    <input id="title_input" value="标题" />
    <button id="do_title">CHANGE!!!</button>
    <script>
      do_title.onclick = () => {
        document.title = title_input.value;
      };
      titlelist.onclick = (e) => {
        const liEle = e.target;
        if (liEle instanceof HTMLElement && liEle.tagName === "LI") {
          title_input.value = liEle.textContent;
        }
      };
    </script>

    <button id="do_back">BACK!!</button>
    <script>
      do_back.onclick = () => {
        my_nav.back();
      };
    </script>

    <button id="call_js">CALL JS!!</button>
    <script>
      alert(my_nav.jsFunction);
      call_js.onclick = () => {
        my_nav.jsFunction2 = (a, b) => {
          alert(`hi ${a},${b}`);
          return a + b;
        };
        my_nav.testCallJs();
      };
    </script>

    <hr />
    <div class="file-preview-box">
      <div id="file_preview"></div>
    </div>
    <style>
      .file-preview-box {
        overflow: auto;
      }
      #file_preview {
        max-height: 30vmax;
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        align-content: center;
        align-items: center;
        justify-content: center;
        width: min-content;
      }
      #file_preview img {
        max-height: inherit;
      }
    </style>
    <script>
      function previewFiles(files) {
        file_preview.innerHTML = "";
        for (let i = 0; i < files.length; i++) {
          const file = files.item(i);
          const url = URL.createObjectURL(file);
          const img = document.createElement("img");
          img.src = url;
          img.alt = file.name;
          file_preview.appendChild(img);
        }
      }
    </script>
    <label for="image_picker">单图片选择器</label>
    <input type="file" accept="image/*" id="image_picker" />
    <script>
      image_picker.onchange = (e) => {
        console.log(image_picker.files);
        previewFiles(image_picker.files);
      };
    </script>
    <br />
    <label for="images_picker">多图片选择器</label>
    <input type="file" accept="image/*" id="images_picker" multiple />
    <script>
      images_picker.onchange = (e) => {
        console.log(images_picker.files);
        previewFiles(images_picker.files);
      };
    </script>
    <br />
    <label for="files_picker">多文件选择器</label>
    <input type="file" accept="image/jpg, image/jpeg, image/png" id="files_picker" multiple />
    <script>
      files_picker.onchange = (e) => {
        console.log(files_picker.files);
        previewFiles(files_picker.files);
      };
    </script>
  </body>
</html>
