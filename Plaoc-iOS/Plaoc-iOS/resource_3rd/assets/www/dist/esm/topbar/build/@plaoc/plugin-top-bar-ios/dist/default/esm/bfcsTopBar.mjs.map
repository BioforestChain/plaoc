{"version":3,"file":"bfcsTopBar.mjs","sources":["../../../../../../../../../../topbar/build/@plaoc/plugin-top-bar-ios/dist/default/esm/bfcsTopBar.mjs"],"sourcesContent":["import{TopBarFFI as t}from\"./ffi_ios.mjs\";class e extends HTMLElement{constructor(){super(),this._actionList=[],this._alpha=\"ff\",this._ffi=new t,this._observer=new MutationObserver((t=>{this.collectActions()})),this._init()}connectedCallback(){this._observer.observe(this,{subtree:!0,childList:!0,attributes:!0})}disconnectedCallback(){this._observer.disconnect()}async _init(){this._setAlpha();const t=await this.getHeight();this.setAttribute(\"height\",`${t}`)}_setAlpha(){if(this.hasAttribute(\"alpha\")&&this.getAttribute(\"alpha\")&&this.getAttribute(\"alpha\").length>0)try{const t=parseFloat(this.getAttribute(\"alpha\")),e=Math.round(255*t).toString(16);e.length>1?this._alpha=e:this._alpha=\"0\"+e}catch{}}async back(){await this._ffi.back()}async toggleEnabled(){await this._ffi.toggleEnabled()}async getEnabled(){return await this._ffi.getEnabled()}async getTitle(){return await this._ffi.getTitle()}async setTitle(t){await this._ffi.setTitle(t)}async hasTitle(){return await this._ffi.hasTitle()}async getOverlay(){return await this._ffi.getOverlay()}async toggleOverlay(){await this._ffi.toggleOverlay()}async getHeight(){return await this._ffi.getHeight()}async getBackgroundColor(){return await this._ffi.getBackgroundColor(this._alpha)}async setBackgroundColor(t){await this._ffi.setBackgroundColor(t,this._alpha)}async getForegroundColor(){return await this._ffi.getForegroundColor(this._alpha)}async setForegroundColor(t){await this._ffi.setForegroundColor(t,this._alpha)}async getActions(){return this._actionList=await this._ffi.getActions(),this._actionList}async setActions(){await this._ffi.setActions(this._actionList)}async collectActions(){this._actionList=[],this.querySelectorAll(\"dweb-top-bar-button\").forEach((t=>{let e={source:\"\",type:\"NamedIcon\"};if(t.querySelector(\"dweb-icon\")){let i=t.querySelector(\"dweb-icon\");e.source=i?.getAttribute(\"source\")??\"\",e.type=i?.hasAttribute(\"type\")?i.getAttribute(\"type\"):\"NamedIcon\",e.description=i?.getAttribute(\"description\")??\"\",e.size=i?.hasAttribute(\"size\")?i.getAttribute(\"size\"):void 0}const i=`document.querySelector('dweb-top-bar-button[bid=\"${t.getAttribute(\"bid\")}\"]').dispatchEvent(new CustomEvent('click'))`,a=!!t.hasAttribute(\"disabled\");this._actionList.push({icon:e,onClickCode:i,disabled:a})})),await this.setActions()}static get observedAttributes(){return[\"title\",\"hidden\",\"background-color\",\"foreground-color\",\"overlay\"]}async attributeChangedCallback(t,e,i){\"title\"===t?await this.setTitle(i):\"background-color\"===t?await this.setBackgroundColor(i):\"foreground-color\"===t?await this.setForegroundColor(i):\"overlay\"===t?this.hasAttribute(t)&&await this._ffi.setOverlay():\"hidden\"===t&&this.hasAttribute(t)&&await this._ffi.setHidden()}}export{e as BfcsTopBar};\n"],"names":["t"],"mappings":"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"}