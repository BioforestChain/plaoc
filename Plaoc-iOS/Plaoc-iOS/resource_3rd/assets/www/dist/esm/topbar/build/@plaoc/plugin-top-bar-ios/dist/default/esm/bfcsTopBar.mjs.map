{"version":3,"file":"bfcsTopBar.mjs","sources":["../../../../../../../../../../topbar/build/@plaoc/plugin-top-bar-ios/dist/default/esm/bfcsTopBar.mjs"],"sourcesContent":["import{TopBarFFI as t}from\"./ffi_ios.mjs\";class e extends HTMLElement{constructor(){super(),this._actionList=[],this._ffi=new t}connectedCallback(){new MutationObserver((t=>{this.collectActions()})).observe(this,{subtree:!0,childList:!0,attributes:!0,attributeFilter:[\"disabled\",\"icon\",\"type\",\"description\",\"size\",\"source\"]}),this.collectActions()}disconnectedCallback(){}async back(){await this._ffi.back()}async toggleEnabled(){await this._ffi.toggleEnabled()}async getEnabled(){return await this._ffi.getEnabled()}async getTitle(){return await this._ffi.getTitle()}async setTitle(t){await this._ffi.setTitle(t)}async hasTitle(){return await this._ffi.hasTitle()}async getOverlay(){return await this._ffi.getOverlay()}async toggleOverlay(){await this._ffi.toggleOverlay()}async getHeight(){return await this._ffi.getHeight()}async getBackgroundColor(){return await this._ffi.getBackgroundColor()}async setBackgroundColor(t=\"#ffffff\"){const e={color:t,alpha:this.getAttribute(\"alpha\")&&this.getAttribute(\"alpha\").length>0?parseFloat(this.getAttribute(\"alpha\")):.5};await this._ffi.setBackgroundColor(e)}async getForegroundColor(){return await this._ffi.getForegroundColor()}async setForegroundColor(t=\"#ffffff\"){const e={color:t,alpha:this.getAttribute(\"alpha\")&&this.getAttribute(\"alpha\").length>0?parseFloat(this.getAttribute(\"alpha\")):.5};await this._ffi.setForegroundColor(e)}async getActions(){return this._actionList=await this._ffi.getActions(),this._actionList}async setActions(){await this._ffi.setActions(this._actionList)}async collectActions(){this._actionList=[],this.querySelectorAll(\"dweb-top-bar-button\").forEach((t=>{let e={source:\"\",type:\"NamedIcon\"};if(t.querySelector(\"dweb-icon\")){let i=t.querySelector(\"dweb-icon\");e.source=i?.getAttribute(\"source\")??\"\",e.type=i?.hasAttribute(\"type\")?i.getAttribute(\"type\"):\"NamedIcon\",e.description=i?.getAttribute(\"description\")??\"\",e.size=i?.hasAttribute(\"size\")?i.getAttribute(\"size\"):void 0}const i=`document.querySelector('dweb-top-bar-button[bid=\"${t.getAttribute(\"bid\")}\"]').dispatchEvent(new CustomEvent('click'))`,s=!!t.hasAttribute(\"disabled\");this._actionList.push({icon:e,onClickCode:i,disabled:s})})),await this.setActions()}static get observedAttributes(){return[\"title\",\"disabled\",\"backgroudColor\",\"foregroundColor\",\"overlay\",\"alpha\"]}attributeChangedCallback(t,e,i){\"title\"===t?this.setTitle(i):\"backgroudColor\"===t?this.setBackgroundColor(i):\"foregroundColor\"===t?this.setForegroundColor(i):\"overlay\"===t?this.hasAttribute(t)&&this._ffi.setOverlay():\"disabled\"===t&&this.hasAttribute(t)&&this._ffi.setHidden()}}export{e as BfcsTopBar};\n"],"names":["t"],"mappings":";AAA0C,MAAM,UAAU,YAAW;AAAA,EAAC,cAAa;AAAC,UAAO,GAAC,KAAK,cAAY,CAAA,GAAG,KAAK,OAAK,IAAIA;AAAAA,EAAC;AAAA,EAAC,oBAAmB;AAAC,QAAI,iBAAkB,OAAG;AAAC,WAAK,eAAc;AAAA,IAAE,CAAG,EAAC,QAAQ,MAAK,EAAC,SAAQ,MAAG,WAAU,MAAG,YAAW,MAAG,iBAAgB,CAAC,YAAW,QAAO,QAAO,eAAc,QAAO,QAAQ,EAAC,CAAC,GAAE,KAAK,eAAgB;AAAA,EAAA;AAAA,EAAC,uBAAsB;AAAA,EAAA;AAAA,QAAQ,OAAM;AAAC,UAAM,KAAK,KAAK,KAAM;AAAA,EAAA;AAAA,QAAO,gBAAe;AAAC,UAAM,KAAK,KAAK;EAAe;AAAA,QAAO,aAAY;AAAC,WAAO,MAAM,KAAK,KAAK,WAAU;AAAA,EAAE;AAAA,QAAO,WAAU;AAAC,WAAO,MAAM,KAAK,KAAK;EAAU;AAAA,QAAO,SAAS,GAAE;AAAC,UAAM,KAAK,KAAK,SAAS,CAAC;AAAA,EAAC;AAAA,QAAO,WAAU;AAAC,WAAO,MAAM,KAAK,KAAK,SAAQ;AAAA,EAAE;AAAA,QAAO,aAAY;AAAC,WAAO,MAAM,KAAK,KAAK;EAAY;AAAA,QAAO,gBAAe;AAAC,UAAM,KAAK,KAAK,cAAa;AAAA,EAAE;AAAA,QAAO,YAAW;AAAC,WAAO,MAAM,KAAK,KAAK,UAAS;AAAA,EAAE;AAAA,QAAO,qBAAoB;AAAC,WAAO,MAAM,KAAK,KAAK,mBAAkB;AAAA,EAAE;AAAA,QAAO,mBAAmB,IAAE,WAAU;AAAC,UAAM,KAAE,EAAC,OAAM,GAAE,OAAM,KAAK,aAAa,OAAO,KAAG,KAAK,aAAa,OAAO,EAAE,SAAO,IAAE,WAAW,KAAK,aAAa,OAAO,CAAC,IAAE,IAAE;AAAE,UAAM,KAAK,KAAK,mBAAmB,EAAC;AAAA,EAAC;AAAA,QAAO,qBAAoB;AAAC,WAAO,MAAM,KAAK,KAAK,mBAAkB;AAAA,EAAE;AAAA,QAAO,mBAAmB,IAAE,WAAU;AAAC,UAAM,KAAE,EAAC,OAAM,GAAE,OAAM,KAAK,aAAa,OAAO,KAAG,KAAK,aAAa,OAAO,EAAE,SAAO,IAAE,WAAW,KAAK,aAAa,OAAO,CAAC,IAAE,IAAE;AAAE,UAAM,KAAK,KAAK,mBAAmB,EAAC;AAAA,EAAC;AAAA,QAAO,aAAY;AAAC,WAAO,KAAK,cAAY,MAAM,KAAK,KAAK,WAAY,GAAC,KAAK;AAAA,EAAW;AAAA,QAAO,aAAY;AAAC,UAAM,KAAK,KAAK,WAAW,KAAK,WAAW;AAAA,EAAC;AAAA,QAAO,iBAAgB;AAAC,SAAK,cAAY,IAAG,KAAK,iBAAiB,qBAAqB,EAAE,QAAS,OAAG;AAAC,UAAI,KAAE,EAAC,QAAO,IAAG,MAAK,YAAW;AAAE,UAAG,EAAE,cAAc,WAAW,GAAE;AAAC,YAAI,KAAE,EAAE,cAAc,WAAW;AAAE,WAAE,SAAO,IAAG,aAAa,QAAQ,KAAG,IAAG,GAAE,OAAK,IAAG,aAAa,MAAM,IAAE,GAAE,aAAa,MAAM,IAAE,aAAY,GAAE,cAAY,IAAG,aAAa,aAAa,KAAG,IAAG,GAAE,OAAK,IAAG,aAAa,MAAM,IAAE,GAAE,aAAa,MAAM,IAAE;AAAA,MAAM;AAAC,YAAM,IAAE,oDAAoD,EAAE,aAAa,KAAK,iDAAgD,IAAE,CAAC,CAAC,EAAE,aAAa,UAAU;AAAE,WAAK,YAAY,KAAK,EAAC,MAAK,IAAE,aAAY,GAAE,UAAS,EAAC,CAAC;AAAA,IAAC,CAAG,GAAC,MAAM,KAAK,WAAU;AAAA,EAAE;AAAA,aAAY,qBAAoB;AAAC,WAAM,CAAC,SAAQ,YAAW,kBAAiB,mBAAkB,WAAU,OAAO;AAAA,EAAC;AAAA,EAAC,yBAAyB,GAAE,IAAE,GAAE;AAAC,IAAU,MAAV,UAAY,KAAK,SAAS,CAAC,IAAE,AAAmB,MAAnB,mBAAqB,KAAK,mBAAmB,CAAC,IAAE,AAAoB,MAApB,oBAAsB,KAAK,mBAAmB,CAAC,IAAE,AAAY,MAAZ,YAAc,KAAK,aAAa,CAAC,KAAG,KAAK,KAAK,WAAY,IAAC,AAAa,MAAb,cAAgB,KAAK,aAAa,CAAC,KAAG,KAAK,KAAK;EAAW;AAAC;;"}